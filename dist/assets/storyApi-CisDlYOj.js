const a="https://story-api.dicoding.dev/v1";async function d(e,o,n){const s=await(await fetch(a+"/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:o,password:n})})).json();if(s.error)throw new Error(s.message);return s}async function h(e,o){const r=await(await fetch(a+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:o})})).json();if(r.error)throw new Error(r.message);return r.loginResult}async function p({page:e=1,size:o=10,location:n=1}={},r){if(!r)throw new Error("AUTH_REQUIRED");const t=await(await fetch(`${a}/stories?page=${e}&size=${o}&location=${n}`,{headers:{Authorization:`Bearer ${r}`}})).json();if(t.error)throw new Error(t.message);return t.listStory}async function w({description:e,photo:o,lat:n,lon:r},s){if(!s)throw new Error("AUTH_REQUIRED");const t=new FormData;t.append("description",e),o&&t.append("photo",o,"photo.jpg"),n!=null&&t.append("lat",n),r!=null&&t.append("lon",r);const i=await(await fetch(a+"/stories",{method:"POST",headers:{Authorization:`Bearer ${s}`},body:t})).json();if(i.error)throw new Error(i.message);return i}export{w as a,p as b,h as l,d as r};
